{"mappings":"2iBAAA,IAAAA,EAAAC,EAAA,S,0BCAAC,EAAAD,EAAA,S,kBAGOE,iBACL,MAGMC,SAHiB,EAAAF,EAAAG,SACrB,2FAEsBC,KAAKF,OAE7BG,aAAaC,QAAQ,SAAUC,KAAKC,UAAUN,G,CDHhD,IACA,EAAAO,EAAAC,uBAAsBC,KAAKb,EAAAc,oBAE3BC,EAAAC,KAAKC,YAAYC,iBAAiB,QAASC,EAAAC,oB,WET3C,IAAAC,EAAApB,EAAA,S,qEASAc,EAAAC,KAAKM,iBAAiBJ,iBAAiB,UAOhCf,eAA4BoB,GACjCA,EAAEC,iBAEFC,EAAoBC,YAEpB,MAAMC,MAAEA,GAAUJ,EAAEK,OAAOC,SACrBC,EAAcH,EAAMI,MAAMC,OAIhC,GAFAP,EAAoBE,MAAQG,EAER,KAAhBA,EAGF,OAFAT,EAAAY,OAAOC,KAAK,wBACZ,EAAAC,EAAAC,cAIA,IACEX,EACGY,oBACAxB,KAAKyB,GACLzB,KAAKb,EAAAc,qBACN,EAAAqB,EAAAC,cACFrB,EAAAC,KAAKuB,wBAAyB,C,CAC9B,MAAOC,GACPC,QAAQC,IAAIF,E,KA7BlB,MAAMf,EAAsB,IAAI,EAAAkB,EAAAC,qBAAoB,CAClDC,KAAM,EACNf,YAAa,KAgCf,SAASQ,EAAgBQ,GACzB,IAAKC,EAAqBD,EAASxC,KAAK0C,cActC,OAbmB,IAAIC,EAAAC,GAAJ,CAAe,aAAc,CAC9CC,WAAYJ,EACZK,aAAc,GACdC,aAAc,EACdR,KAAM,IAEGS,GAAG,cAAcC,IAC1B,MAAMC,EAAcD,EAAMV,KAC1BpB,EAAoBoB,KAAOW,EAE3B/B,EAAoBY,oBAAoBxB,KAAKb,EAAAc,mBAAmB,IAG3DgC,C","sources":["src/js/start.js","src/js/getMoviesGenres.js","src/js/onSearchByName.js"],"sourcesContent":["import { renderMoviesMarkup } from './renderFilms';\nimport { refs } from './refs';\nimport { fetchTrendingMovies } from './fetchTrendingMovies';\nimport { getMoviesGenres } from './getMoviesGenres';\nimport { onGalleryItemClick } from './onGalleryItemClick';\n\ngetMoviesGenres();\nfetchTrendingMovies().then(renderMoviesMarkup);\n\nrefs.galleryList.addEventListener('click', onGalleryItemClick);\n","import axios from 'axios';\nconst API_KEY = '90c7ff0c6a89140d8ec65b5296dfcca2';\n\nexport async function getMoviesGenres() {\n  const responce = await axios(\n    `https://api.themoviedb.org/3/genre/movie/list?api_key=${API_KEY}`\n  );\n  const genres = responce.data.genres;\n\n  localStorage.setItem('genres', JSON.stringify(genres));\n}\n","import { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport Pagination from 'tui-pagination';\nimport 'tui-pagination/dist/tui-pagination.css';\nimport { renderMoviesMarkup } from './renderFilms';\nimport { startLoader, stopLoader } from './loader';\nimport { refs } from './refs';\nimport { MoviesServiceByName } from './apiServiceMovies';\n\n\nrefs.moviesSearchForm.addEventListener('submit', onFormSubmit);\n\nconst moviesServiceByName = new MoviesServiceByName({\n  page: 1,\n  searchQuery: '',\n});\n\nexport async function onFormSubmit(e) {\n  e.preventDefault();\n  // startLoader();\n  moviesServiceByName.resetPage();\n\n  const { query } = e.target.elements;\n  const searchQuery = query.value.trim();\n\n  moviesServiceByName.query = searchQuery;\n\n  if (searchQuery === '') {\n    Notify.info('Enter something');\n    stopLoader();\n    return;\n  } else {\n  \n    try {\n      moviesServiceByName\n        .fetchMoviesByName()\n        .then(getPageQuantity)\n        .then(renderMoviesMarkup);\n        stopLoader();\n      refs.isTrendingMoviesActive = false;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n}\n\nfunction getPageQuantity(response) {\nlet  totalFilmsOnSearch = response.data.total_results;\n  const pagination = new Pagination('pagination', {\n    totalItems: totalFilmsOnSearch,\n    itemsPerPage: 20,\n    visiblePages: 5,\n    page: 1,\n  });\n  pagination.on('beforeMove', event => {\n    const currentPage = event.page;\n    moviesServiceByName.page = currentPage;\n    // startLoader();\n    moviesServiceByName.fetchMoviesByName().then(renderMoviesMarkup);\n  });\n\n  return response;\n}\n"],"names":["$c9UGP","parcelRequire","$2shzp","async","genres","default","data","localStorage","setItem","JSON","stringify","$gkCWX","fetchTrendingMovies","then","renderMoviesMarkup","$krGWQ","refs","galleryList","addEventListener","$c72bu","onGalleryItemClick","$iQIUW","moviesSearchForm","e","preventDefault","$e06cf6d5b6d0a698$var$moviesServiceByName","resetPage","query","target","elements","searchQuery","value","trim","Notify","info","$gjiCh","stopLoader","fetchMoviesByName","$e06cf6d5b6d0a698$var$getPageQuantity","isTrendingMoviesActive","error","console","log","$8emQL","MoviesServiceByName","page","response","totalFilmsOnSearch","total_results","$parcel$interopDefault","$fb9GJ","totalItems","itemsPerPage","visiblePages","on","event","currentPage"],"version":3,"file":"index.37b7b0bb.js.map"}