{"mappings":"ujBAAA,IAAAA,EAAAC,EAAA,S,0BCAAC,EAAAD,EAAA,S,0BACME,EAAU,mC,SAEMC,I,OAAAA,EAAfC,EAAAH,EAAA,CAAAG,EAAAC,GAAAC,MAAA,SAAAC,I,IACCC,EAGAC,E,mFAHiB,EAAAC,EAAAC,SACrB,yDAAiEC,OAARV,I,OADrDM,EAAQK,EAAAC,KAGRL,EAASD,EAASO,KAAKN,OAE7BO,aAAaC,QAAQ,SAAUC,KAAKC,UAAUV,I,4CANXW,MAAAC,KAAAC,U,8BAAfnB,EAAeiB,MAAAC,KAAAC,U,CDGrC,IACA,EAAAC,EAAAC,uBAAsBC,KAAK1B,EAAA2B,oBAE3BC,EAAAC,KAAKC,YAAYC,iBAAiB,QAASC,EAAAC,oB,WET3C/B,EAAAD,EAAA,S,aAAA,I,+FASA2B,EAAAC,KAAKK,iBAAiBH,iBAAiB,U,SAOJI,G,OAAbC,EAAYf,MAAAC,KAAAC,U,IALlC,IAAMc,EAAsB,IAAI,EAAAC,EAAAC,qBAAoB,CAClDC,KAAM,EACNC,YAAa,K,SAGOL,I,OAAAA,EAAf/B,EAAAH,EAAA,CAAAG,EAAAC,GAAAC,MAAA,SAAAC,EAA4B2B,G,IAKzBO,EACFD,E,qEALNN,EAAEQ,kBACF,EAAAC,EAAAC,eACAR,EAAoBS,YAEdJ,EAAYP,EAAEY,OAAOC,SAAnBN,MACFD,EAAcC,EAAMO,MAAMC,OAEhCb,EAAoBK,MAAQD,EAER,KAAhBA,EAAkB,C,uBACpBU,EAAAC,OAAOC,KAAK,oBACZ,EAAAT,EAAAU,c,4BAGA,EAAAV,EAAAC,eACA,IACER,EACGkB,oBACA7B,KAAK8B,GACL9B,KAAK1B,EAAA2B,oBACRC,EAAAC,KAAK4B,wBAAyB,C,CAC9B,MAAOC,GACPC,QAAQC,IAAIF,E,8CAvBgBrC,MAAAC,KAAAC,U,CA4BlC,SAASiC,EAAgBK,GAevB,OAdAC,mBAAqBD,EAAS7C,KAAK+C,cAChB,IAAI1D,EAAA2D,GAAJ,CAAe,aAAc,CAC9CC,WAAYH,mBACZI,aAAc,GACdC,aAAc,EACd3B,KAAM,IAEG4B,GAAG,cAAc,SAAAC,GAC1B,IAAMC,EAAcD,EAAM7B,KAC1BH,EAAoBG,KAAO8B,GAC3B,EAAA1B,EAAAC,eACAR,EAAoBkB,oBAAoB7B,KAAK1B,EAAA2B,mB,IAGxCkC,C","sources":["src/js/start.js","src/js/getMoviesGenres.js","src/js/onSearchByName.js"],"sourcesContent":["import { renderMoviesMarkup } from './renderFilms';\nimport { refs } from './refs';\nimport { fetchTrendingMovies } from './fetchTrendingMovies';\nimport { getMoviesGenres } from './getMoviesGenres';\nimport { onGalleryItemClick } from './onGalleryItemClick';\n\ngetMoviesGenres();\nfetchTrendingMovies().then(renderMoviesMarkup);\n\nrefs.galleryList.addEventListener('click', onGalleryItemClick);\n","import axios from 'axios';\nconst API_KEY = '90c7ff0c6a89140d8ec65b5296dfcca2';\n\nexport async function getMoviesGenres() {\n  const responce = await axios(\n    `https://api.themoviedb.org/3/genre/movie/list?api_key=${API_KEY}`\n  );\n  const genres = responce.data.genres;\n\n  localStorage.setItem('genres', JSON.stringify(genres));\n}\n","import { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport Pagination from 'tui-pagination';\nimport 'tui-pagination/dist/tui-pagination.css';\nimport { renderMoviesMarkup } from './renderFilms';\nimport { startLoader, stopLoader } from './loader';\nimport { refs } from './refs';\nimport { MoviesServiceByName } from './apiServiceMovies';\nimport { startLoader } from './loader';\n\nrefs.moviesSearchForm.addEventListener('submit', onFormSubmit);\n\nconst moviesServiceByName = new MoviesServiceByName({\n  page: 1,\n  searchQuery: '',\n});\n\nexport async function onFormSubmit(e) {\n  e.preventDefault();\n  startLoader();\n  moviesServiceByName.resetPage();\n\n  const { query } = e.target.elements;\n  const searchQuery = query.value.trim();\n\n  moviesServiceByName.query = searchQuery;\n\n  if (searchQuery === '') {\n    Notify.info('Enter something');\n    stopLoader();\n    return;\n  } else {\n    startLoader();\n    try {\n      moviesServiceByName\n        .fetchMoviesByName()\n        .then(getPageQuantity)\n        .then(renderMoviesMarkup);\n      refs.isTrendingMoviesActive = false;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n}\n\nfunction getPageQuantity(response) {\n  totalFilmsOnSearch = response.data.total_results;\n  const pagination = new Pagination('pagination', {\n    totalItems: totalFilmsOnSearch,\n    itemsPerPage: 20,\n    visiblePages: 5,\n    page: 1,\n  });\n  pagination.on('beforeMove', event => {\n    const currentPage = event.page;\n    moviesServiceByName.page = currentPage;\n    startLoader();\n    moviesServiceByName.fetchMoviesByName().then(renderMoviesMarkup);\n  });\n\n  return response;\n}\n"],"names":["$26XG5","parcelRequire","$bpxeT","$f84d4d22ea952dee$var$API_KEY","$f84d4d22ea952dee$var$_getMoviesGenres","$parcel$interopDefault","$2TvXO","mark","_callee","responce","genres","$dIxxU","default","concat","_ctx","sent","data","localStorage","setItem","JSON","stringify","apply","this","arguments","$yB0Cd","fetchTrendingMovies","then","renderMoviesMarkup","$4Nugj","refs","galleryList","addEventListener","$euASI","onGalleryItemClick","moviesSearchForm","e","$fa081402b79b674c$var$_onFormSubmit","$fa081402b79b674c$var$moviesServiceByName","$kzQwM","MoviesServiceByName","page","searchQuery","query","preventDefault","$kvC6y","startLoader","resetPage","target","elements","value","trim","$h6c0i","Notify","info","stopLoader","fetchMoviesByName","$fa081402b79b674c$var$getPageQuantity","isTrendingMoviesActive","error","console","log","response","totalFilmsOnSearch","total_results","$1VFfL","totalItems","itemsPerPage","visiblePages","on","event","currentPage"],"version":3,"file":"index.416934be.js.map"}