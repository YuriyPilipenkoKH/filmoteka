{"mappings":"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","sources":["src/js/renderFilms.js","src/js/fetchTrendingMovies.js","src/js/onSearchFormSubmit.js","src/js/loader.js","src/js/fetchMoviesByName.js","src/js/getMoviesGenres.js","src/js/pagination-main.js","src/index.js"],"sourcesContent":["import { refs } from './refs';\nconst IMG_URL = 'https://image.tmdb.org/t/p/w500';\nconst DEFAULT_POSTER_URL =\n  'https://motivatevalmorgan.com/wp-content/uploads/2016/06/default-movie.jpg';\nfunction returnGenreName(genres, id) {\n  try {\n    const genreToFind = genres.find(genre => genre.id === id);\n    if (genreToFind) {\n      return genreToFind.name;\n    }\n  } catch (error) {\n    console.log(error);\n  }\n}\nexport function renderMoviesMarkup(response) {\n  const moviesArray = response.data.results;\n  const genres = JSON.parse(localStorage.getItem('genres'));\n  console.log(moviesArray);\n\n  const markup = moviesArray\n    .map(({ poster_path, title, genre_ids, id, release_date }) => {\n      const genresCount = genre_ids.length;\n      const date = release_date.split('').splice(0, 4).join('');\n      let genresToShow = '';\n      const posterUrl = poster_path\n        ? `${IMG_URL}${poster_path}`\n        : DEFAULT_POSTER_URL;\n\n      if (genresCount === 1) {\n        genresToShow = returnGenreName(genres, genre_ids[0]);\n      } else if (genresCount === 2) {\n        genresToShow = `${returnGenreName(\n          genres,\n          genre_ids[0]\n        )}, ${returnGenreName(genres, genre_ids[1])}`;\n      } else if (genresCount > 2) {\n        genresToShow = `${returnGenreName(\n          genres,\n          genre_ids[0]\n        )}, ${returnGenreName(genres, genre_ids[1])}, Other`;\n      }\n\n      return `<li class=\"film-card\">\n      <a href=\"modal-film.html\" class=\"film-card__link\" >\n        <div class=\"film-card__img\">\n          <img src=\"${posterUrl}\" alt=\"${title}\" loading=\"lazy\" data-id=\"${id}\"/>\n        </div>\n        <div class=\"film-card__info\">\n          <p class=\"film-card__title\">${title}</p>\n          <p class=\"film-card__description\">${genresToShow} | ${date}</p>\n        </div>\n      </a>\n    </li>`;\n    })\n    .join('');\n\n  refs.galleryList.innerHTML = markup;\n\n}\n","import axios from 'axios';\nconst API_KEY = '90c7ff0c6a89140d8ec65b5296dfcca2';\nconst BASE_URL = 'https://api.themoviedb.org/';\nconst IMG_URL = 'https://image.tmdb.org/t/p/w500';\nexport async function fetchTrendingMovies(page = 1) {\n  try {\n    const response = await axios(\n      `${BASE_URL}3/trending/movie/day?api_key=${API_KEY}&page=${page}`\n    );\n    return response;\n  } catch (error) {\n    console.log(error);\n  }\n}\n","import { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport { fetchMoviesByName } from './fetchMoviesByName';\nimport { renderMoviesMarkup } from './renderFilms';\nimport { startLoader, stopLoader } from './loader';\n\nexport async function onFormSubmit(e) {\n  e.preventDefault();\n  const { query } = e.target.elements;\n  const searchQuery = query.value.trim();\n\n  if (searchQuery === '') {\n    Notify.info('Enter something');\n    return;\n  }\n  startLoader();\n  try {\n    const movies = await fetchMoviesByName(searchQuery);\n    renderMoviesMarkup(movies);\n    stopLoader();\n  } catch (error) {\n    console.log(error);\n  }\n}\n","export const loader = document.querySelector('.backdrop-loader');\n\nexport function startLoader() {\n  loader.classList.remove('backdrop-loader--is-hidden');\n}\n\nexport function stopLoader() {\n  loader.classList.add('backdrop-loader--is-hidden');\n}","import axios from 'axios';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport { stopLoader } from './loader';\n\nconst BASE_URL = 'https://api.themoviedb.org/';\nconst API_KEY = '90c7ff0c6a89140d8ec65b5296dfcca2';\nexport async function fetchMoviesByName(query, page = 1) {\n  try {\n    const response = await axios(\n      `${BASE_URL}3/search/movie?api_key=${API_KEY}&include_adult=false&query=${query}&page=${page}`\n    );\n    if (response.data.results.length === 0) {\n      Notify.info(`Nothing was found for your '${query}' request`);\n      stopLoader();\n      return;\n    }\n    return response;\n  } catch (error) {\n    console.log(error);\n  }\n}\n","import axios from 'axios';\nconst API_KEY = '90c7ff0c6a89140d8ec65b5296dfcca2';\n\nexport async function getMoviesGenres() {\n  const responce = await axios(\n    `https://api.themoviedb.org/3/genre/movie/list?api_key=${API_KEY}`\n  );\n  const genres = responce.data.genres;\n  //   console.log(genres);\n  localStorage.setItem('genres', JSON.stringify(genres));\n}\n","const ref = document.querySelector('.pagination');\nconst back = document.querySelector('button[data-value=\"back\"]');\nconst first = document.querySelector('button[data-value=\"first\"]');\nconst second = document.querySelector('button[data-value=\"second\"]');\nconst third = document.querySelector('button[data-value=\"third\"]');\nconst fourth = document.querySelector('button[data-value=\"fourth\"]');\nconst fifth = document.querySelector('button[data-value=\"fifth\"]');\n\nlet curentPageNumber = 1;\n\narrowInteractiv(curentPageNumber);\naddActivePageClass(curentPageNumber);\n\nref.addEventListener('click', onPaginationClick);\n\nfunction onPaginationClick(e) {\n  if (e.target.nodeName !== 'BUTTON') {\n    return;\n  }\n\n  const pushedButtonData = e.target.dataset.value;\n\n  if (pushedButtonData === 'back') {\n    if (curentPageNumber > 1) {\n      curentPageNumber -= 1;\n    }\n    console.log(curentPageNumber);\n    // тут нужен фетч для запроса на страницу под номером curentPageNumber\n    // или запрос в localStorage in library\n    return changePaginTextContent(curentPageNumber);\n  }\n\n  if (pushedButtonData === 'forvard') {\n    curentPageNumber = Number(curentPageNumber) + 1;\n    console.log(curentPageNumber);\n    // тут нужен фетч для запроса на страницу под номером curentPageNumber\n    // или запрос в localStorage in library\n    return changePaginTextContent(curentPageNumber);\n  }\n\n  if (pushedButtonData !== 'back' && pushedButtonData !== 'forvard') {\n    curentPageNumber = e.target.textContent;\n    console.log(curentPageNumber);\n    // тут нужен фетч для запроса на страницу под номером curentPageNumber\n    // или запрос в localStorage in library\n    return changePaginTextContent(curentPageNumber);\n  }\n}\n\nfunction changePaginTextContent(val) {\n  if (val <= 2) {\n    first.textContent = 1;\n    second.textContent = 2;\n    third.textContent = 3;\n    fourth.textContent = 4;\n    fifth.textContent = 5;\n\n    arrowInteractiv(val);\n    addActivePageClass(val);\n    return;\n  }\n\n  first.textContent = Number(val) - 2;\n  second.textContent = Number(val) - 1;\n  third.textContent = Number(val);\n  fourth.textContent = Number(val) + 1;\n  fifth.textContent = Number(val) + 2;\n\n  arrowInteractiv(val);\n  addActivePageClass(val);\n}\n\nfunction arrowInteractiv(activePageNumber) {\n  if (activePageNumber == 1) {\n    back.setAttribute('disabled', 'disabled');\n  }\n\n  if (activePageNumber > 1) {\n    back.removeAttribute('disabled');\n  }\n}\n\nfunction addActivePageClass(activePageNumber) {\n  if (activePageNumber == 1) {\n    second.classList.remove('activePage');\n    third.classList.remove('activePage');\n    first.classList.add('activePage');\n  }\n\n  if (activePageNumber == 2) {\n    first.classList.remove('activePage');\n    third.classList.remove('activePage');\n    second.classList.add('activePage');\n  }\n\n  if (activePageNumber > 2) {\n    first.classList.remove('activePage');\n    second.classList.remove('activePage');\n    third.classList.add('activePage');\n  }\n}\n","import './sass/index.scss';\nimport './js/apiSevice';\nimport './js/renderFilms';\nimport { renderMoviesMarkup } from './js/renderFilms';\nimport { refs } from './js/refs';\nimport { fetchTrendingMovies } from './js/fetchTrendingMovies';\nimport { onFormSubmit } from './js/onSearchFormSubmit';\nimport { getMoviesGenres } from './js/getMoviesGenres';\nimport { onGalleryItemClick } from './js/onGalleryItemClick';\nimport './js/modalTeam';\ngetMoviesGenres();\nfetchTrendingMovies().then(renderMoviesMarkup);\nrefs.moviesSearchForm.addEventListener('submit', onFormSubmit);\nrefs.galleryList.addEventListener('click', onGalleryItemClick);\n\nimport './js/modalFilm';\nimport './js/scrolled';\nimport './js/modalTeam';\n\nimport './js/addMovieToLibriary';\n\nimport './js/pagination-main';\nimport './js/fetchMovieTrailer';\nimport './js/trailer';\n"],"names":["$4Nugj","parcelRequire","$189a6f10e095007e$var$returnGenreName","genres","id","genreToFind","find","genre","name","error","console","log","$189a6f10e095007e$export$675563976e239c21","response","moviesArray","data","results","JSON","parse","localStorage","getItem","markup","map","param","poster_path","title","genre_ids","release_date","genresCount","length","date","split","splice","join","genresToShow","posterUrl","concat","refs","galleryList","innerHTML","$bpxeT","$067fe24ac3466aea$var$API_KEY","$067fe24ac3466aea$var$BASE_URL","$067fe24ac3466aea$var$_fetchTrendingMovies","$parcel$interopDefault","$2TvXO","mark","_callee","page","_args","arguments","$dIxxU","default","_ctx","sent","t0","apply","this","$03da642c15b09e5e$export$f4c5de44377d2946","document","querySelector","$03da642c15b09e5e$export$8afc507ca675ea0e","classList","remove","$03da642c15b09e5e$export$2ca9fbefb7d8a75c","add","$2a313fac71d60177$var$BASE_URL","$2a313fac71d60177$var$API_KEY","$2a313fac71d60177$export$37a4223ecda5c4cf","query","$2a313fac71d60177$var$_fetchMoviesByName","$h6c0i","Notify","info","$3f7caa6062a76153$var$_onFormSubmit","e","searchQuery","preventDefault","target","elements","value","trim","$f84d4d22ea952dee$var$API_KEY","$f84d4d22ea952dee$var$_getMoviesGenres","responce","setItem","stringify","$f065380379d4d527$var$ref","$f065380379d4d527$var$back","$f065380379d4d527$var$first","$f065380379d4d527$var$second","$f065380379d4d527$var$third","$f065380379d4d527$var$fourth","$f065380379d4d527$var$fifth","$f065380379d4d527$var$curentPageNumber","$f065380379d4d527$var$changePaginTextContent","val","textContent","$f065380379d4d527$var$arrowInteractiv","$f065380379d4d527$var$addActivePageClass","Number","activePageNumber","setAttribute","removeAttribute","addEventListener","nodeName","pushedButtonData","dataset","then","moviesSearchForm","$euASI","onGalleryItemClick"],"version":3,"file":"index.7832261a.js.map"}