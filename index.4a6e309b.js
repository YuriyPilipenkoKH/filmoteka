!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return r[e]=a,t.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},t.parcelRequired7c6=a),a("kzQwM");var i=a("26XG5"),o=(a("26XG5"),a("4Nugj")),c=a("bpxeT"),s=a("2TvXO"),l=a("dIxxU"),u="90c7ff0c6a89140d8ec65b5296dfcca2",d="https://api.themoviedb.org/";function f(){return f=e(c)(e(s).mark((function t(){var r,n,a=arguments;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>0&&void 0!==a[0]?a[0]:1,e.prev=1,e.next=4,(0,l.default)("".concat(d,"3/trending/movie/day?api_key=").concat(u,"&page=").concat(r));case 4:return n=e.sent,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),t,null,[[1,8]])}))),f.apply(this,arguments)}c=a("bpxeT"),s=a("2TvXO"),l=a("dIxxU");var v="90c7ff0c6a89140d8ec65b5296dfcca2";function p(){return(p=e(c)(e(s).mark((function t(){var r,n;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.default)("https://api.themoviedb.org/3/genre/movie/list?api_key=".concat(v));case 2:r=e.sent,n=r.data.genres,localStorage.setItem("genres",JSON.stringify(n));case 5:case"end":return e.stop()}}),t)})))).apply(this,arguments)}var g=a("euASI"),m=a("1VFfL"),y=a("kzQwM"),b=(i=a("26XG5"),new(0,y.MoviesService)({searchQuery:"",page:1}));document.getElementById("pagination");new(e(m))("pagination",{totalItems:500,itemsPerPage:10,visiblePages:5,page:1}).on("beforeMove",(function(e){var t=e.page;t&&(b.page=t,b.fetchTrendingMovies().then(i.renderMoviesMarkup))})),a("lsUy7"),a("kvC6y"),a("ibuZW"),a("dK7Kq"),a("kvep9"),a("3fYJa");var h=document.querySelector(".pagination"),x=document.querySelector('button[data-value="back"]'),k=document.querySelector('button[data-value="first"]'),w=document.querySelector('button[data-value="second"]'),L=document.querySelector('button[data-value="third"]'),T=document.querySelector('button[data-value="fourth"]'),N=document.querySelector('button[data-value="fifth"]'),C=1;function M(e){if(e<=2)return k.textContent=1,w.textContent=2,L.textContent=3,T.textContent=4,N.textContent=5,S(e),void q(e);k.textContent=Number(e)-2,w.textContent=Number(e)-1,L.textContent=Number(e),T.textContent=Number(e)+1,N.textContent=Number(e)+2,S(e),q(e)}function S(e){1==e&&x.setAttribute("disabled","disabled"),e>1&&x.removeAttribute("disabled")}function q(e){1==e&&(w.classList.remove("activePage"),L.classList.remove("activePage"),k.classList.add("activePage")),2==e&&(k.classList.remove("activePage"),L.classList.remove("activePage"),w.classList.add("activePage")),e>2&&(k.classList.remove("activePage"),w.classList.remove("activePage"),L.classList.add("activePage"))}S(C),q(C),h.addEventListener("click",(function(e){if("BUTTON"!==e.target.nodeName)return;var t=e.target.dataset.value;if("back"===t)return C>1&&(C-=1),console.log(C),M(C);if("forvard"===t)return C=Number(C)+1,console.log(C),M(C);if("back"!==t&&"forvard"!==t)return C=e.target.textContent,console.log(C),M(C)}));c=a("bpxeT"),s=a("2TvXO"),l=a("dIxxU");var P="https://api.themoviedb.org/",O="90c7ff0c6a89140d8ec65b5296dfcca2";function E(e){return I.apply(this,arguments)}function I(){return(I=e(c)(e(s).mark((function t(r){var n;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,l.default)("".concat(P,"3/movie/").concat(r,"/videos?api_key=").concat(O));case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}c=a("bpxeT"),s=a("2TvXO"),o=a("4Nugj");var B,U=a("h6c0i");function X(){document.querySelector(".trailer-video").src="",o.refs.modal.classList.toggle("visually-hidden"),o.refs.trailerBackdrop.classList.toggle("visually-hidden"),o.refs.backdropModalFilm.removeEventListener("click",_)}function _(e){e.currentTarget===e.target&&X()}function F(){return(F=e(c)(e(s).mark((function t(r){var n,a,i,c;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=function(){for(var e=0;e<a.length;e+=1)if("Official Trailer"===a[e].name||a[e].name.includes("Official Trailer")||a[e].name.includes("Trailer"))return a[e].key;return null},e.next=3,E(r);case 3:n=e.sent,a=n.data.results,(B=i())?(c='<iframe\n        class="trailer-video"\n        width="100%"\n        height="100%"\n        src="https://www.youtube.com/embed/'.concat(B,'"\n        title="YouTube video player"\n        frameborder="0"\n        allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"\n        allowfullscreen\n      ></iframe>'),o.refs.trailerWindow.innerHTML=c,o.refs.trailerWindow.querySelector(".trailer-video").src+="?autoplay=1",o.refs.backdropModalFilm.classList.toggle("visually-hidden"),o.refs.trailerBackdrop.classList.toggle("visually-hidden"),o.refs.body.style.overflow="hidden"):U.Notify.info("Sorry. ðŸ‘€ There is no trailer for this movie yet.");case 8:case"end":return e.stop()}}),t)})))).apply(this,arguments)}(o=a("4Nugj")).refs.trailerBackdrop.addEventListener("click",_),o.refs.trailerBtn&&o.refs.trailerBtn.addEventListener("click",(function(e){return F.apply(this,arguments)})),function(){p.apply(this,arguments)}(),function(){return f.apply(this,arguments)}().then(i.renderMoviesMarkup),o.refs.galleryList.addEventListener("click",g.onGalleryItemClick)}();
//# sourceMappingURL=index.4a6e309b.js.map
