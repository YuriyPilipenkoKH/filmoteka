{"mappings":"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","sources":["src/js/fetchTrendingMovies.js","src/js/getMoviesGenres.js","src/js/onSearchByTrend.js","src/js/pagination-main.js","src/js/fetchMovieTrailer.js","src/js/trailer.js","src/js/trailerWindow.js","src/index.js"],"sourcesContent":["import axios from 'axios';\nconst API_KEY = '90c7ff0c6a89140d8ec65b5296dfcca2';\nconst BASE_URL = 'https://api.themoviedb.org/';\nconst IMG_URL = 'https://image.tmdb.org/t/p/w500';\nexport async function fetchTrendingMovies(page = 1) {\n  try {\n    const response = await axios(\n      `${BASE_URL}3/trending/movie/day?api_key=${API_KEY}&page=${page}`\n    );\n    return response;\n  } catch (error) {\n    console.log(error);\n  }\n}\n","import axios from 'axios';\nconst API_KEY = '90c7ff0c6a89140d8ec65b5296dfcca2';\n\nexport async function getMoviesGenres() {\n  const responce = await axios(\n    `https://api.themoviedb.org/3/genre/movie/list?api_key=${API_KEY}`\n  );\n  const genres = responce.data.genres;\n  //   console.log(genres);\n  localStorage.setItem('genres', JSON.stringify(genres));\n}\n","import Pagination from 'tui-pagination';\nimport 'tui-pagination/dist/tui-pagination.css';\nimport { MoviesService } from './apiServiceMovies';\n// import { fetchTrendingMovies } from './fetchTrendingMovies';\nimport { renderMoviesMarkup } from './renderFilms';\n\nconst moviesService = new MoviesService({\n  searchQuery: '',\n  page: 1,\n});\n\nconst container = document.getElementById('pagination');\n\nconst pagination = new Pagination('pagination', {\n  totalItems: 500,\n  itemsPerPage: 10,\n  visiblePages: 5,\n  page: 1,\n});\npagination.on('beforeMove', event => {\n  const currentPage = event.page;\n\n  if (currentPage) {\n    moviesService.page = currentPage;\n    moviesService.fetchTrendingMovies().then(renderMoviesMarkup);\n  }\n});\n","const ref = document.querySelector('.pagination');\nconst back = document.querySelector('button[data-value=\"back\"]');\nconst first = document.querySelector('button[data-value=\"first\"]');\nconst second = document.querySelector('button[data-value=\"second\"]');\nconst third = document.querySelector('button[data-value=\"third\"]');\nconst fourth = document.querySelector('button[data-value=\"fourth\"]');\nconst fifth = document.querySelector('button[data-value=\"fifth\"]');\n\nlet curentPageNumber = 1;\n\narrowInteractiv(curentPageNumber);\naddActivePageClass(curentPageNumber);\n\nref.addEventListener('click', onPaginationClick);\n\nfunction onPaginationClick(e) {\n  if (e.target.nodeName !== 'BUTTON') {\n    return;\n  }\n\n  const pushedButtonData = e.target.dataset.value;\n\n  if (pushedButtonData === 'back') {\n    if (curentPageNumber > 1) {\n      curentPageNumber -= 1;\n    }\n    console.log(curentPageNumber);\n    // тут нужен фетч для запроса на страницу под номером curentPageNumber\n    // или запрос в localStorage in library\n    return changePaginTextContent(curentPageNumber);\n  }\n\n  if (pushedButtonData === 'forvard') {\n    curentPageNumber = Number(curentPageNumber) + 1;\n    console.log(curentPageNumber);\n    // тут нужен фетч для запроса на страницу под номером curentPageNumber\n    // или запрос в localStorage in library\n    return changePaginTextContent(curentPageNumber);\n  }\n\n  if (pushedButtonData !== 'back' && pushedButtonData !== 'forvard') {\n    curentPageNumber = e.target.textContent;\n    console.log(curentPageNumber);\n    // тут нужен фетч для запроса на страницу под номером curentPageNumber\n    // или запрос в localStorage in library\n    return changePaginTextContent(curentPageNumber);\n  }\n}\n\nfunction changePaginTextContent(val) {\n  if (val <= 2) {\n    first.textContent = 1;\n    second.textContent = 2;\n    third.textContent = 3;\n    fourth.textContent = 4;\n    fifth.textContent = 5;\n\n    arrowInteractiv(val);\n    addActivePageClass(val);\n    return;\n  }\n\n  first.textContent = Number(val) - 2;\n  second.textContent = Number(val) - 1;\n  third.textContent = Number(val);\n  fourth.textContent = Number(val) + 1;\n  fifth.textContent = Number(val) + 2;\n\n  arrowInteractiv(val);\n  addActivePageClass(val);\n}\n\nfunction arrowInteractiv(activePageNumber) {\n  if (activePageNumber == 1) {\n    back.setAttribute('disabled', 'disabled');\n  }\n\n  if (activePageNumber > 1) {\n    back.removeAttribute('disabled');\n  }\n}\n\nfunction addActivePageClass(activePageNumber) {\n  if (activePageNumber == 1) {\n    second.classList.remove('activePage');\n    third.classList.remove('activePage');\n    first.classList.add('activePage');\n  }\n\n  if (activePageNumber == 2) {\n    first.classList.remove('activePage');\n    third.classList.remove('activePage');\n    second.classList.add('activePage');\n  }\n\n  if (activePageNumber > 2) {\n    first.classList.remove('activePage');\n    second.classList.remove('activePage');\n    third.classList.add('activePage');\n  }\n}\n","import axios from 'axios';\nconst BASE_URL = 'https://api.themoviedb.org/';\nconst API_KEY = '90c7ff0c6a89140d8ec65b5296dfcca2';\n\nexport async function fetchVideoKey(id) {\n  try {\n    const response = await axios(\n      `${BASE_URL}3/movie/${id}/videos?api_key=${API_KEY}`\n    );\n    return response;\n  } catch (error) {\n    console.log(error);\n  }\n}\n","import { refs } from './refs';\nimport { fetchVideoKey } from './fetchMovieTrailer';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport { onEscKeyPress } from './trailerWindow';\nif (refs.trailerBtn) {\n  refs.trailerBtn.addEventListener('click', onTrailerBtnClick);\n}\nlet videoKey;\n\nexport async function onTrailerBtnClick(id) {\n  const videoResponse = await fetchVideoKey(id);\n  const obj = videoResponse.data.results;\n  function getKey() {\n    for (let i = 0; i < obj.length; i += 1) {\n      if (\n        obj[i].name === 'Official Trailer' ||\n        obj[i].name.includes('Official Trailer') ||\n        obj[i].name.includes('Trailer')\n      ) {\n        return obj[i].key;\n      }\n    }\n    return null;\n  }\n  videoKey = getKey();\n  if (videoKey) {\n    const videoMarkup = `<iframe\n        class=\"trailer-video\"\n        width=\"100%\"\n        height=\"100%\"\n        src=\"https://www.youtube.com/embed/${videoKey}\"\n        title=\"YouTube video player\"\n        frameborder=\"0\"\n        allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\n        allowfullscreen\n      ></iframe>`;\n    refs.trailerWindow.innerHTML = videoMarkup;\n    const trailerVideo = refs.trailerWindow.querySelector('.trailer-video');\n    trailerVideo.src += '?autoplay=1';\n    refs.backdropModalFilm.classList.toggle('visually-hidden');\n    refs.trailerBackdrop.classList.toggle('visually-hidden');\n    refs.body.style.overflow = 'hidden';\n  } else {\n    Notify.info(`Sorry. 👀 There is no trailer for this movie yet.`);\n  }\n}\n","import { refs } from './refs';\n\nrefs.trailerBackdrop.addEventListener('click', onBackdropClose);\n\nfunction onCloseVideo() {\n  stopVideo();\n  refs.modal.classList.toggle('visually-hidden');\n  refs.trailerBackdrop.classList.toggle('visually-hidden');\n  refs.backdropModalFilm.removeEventListener('click', onBackdropClose);\n}\n\nfunction onBackdropClose(e) {\n  if (e.currentTarget === e.target) {\n    onCloseVideo();\n  }\n}\n\nfunction stopVideo() {\n  const trailerVideo = document.querySelector('.trailer-video');\n  trailerVideo.src = '';\n}\n","import './sass/index.scss';\nimport './js/apiServiceMovies';\nimport './js/renderFilms';\nimport { renderMoviesMarkup } from './js/renderFilms';\nimport { refs } from './js/refs';\nimport { fetchTrendingMovies } from './js/fetchTrendingMovies';\nimport { onFormSubmit } from './js/onSearchFormSubmit';\nimport { getMoviesGenres } from './js/getMoviesGenres';\nimport { onGalleryItemClick } from './js/onGalleryItemClick';\ngetMoviesGenres();\nfetchTrendingMovies().then(renderMoviesMarkup);\n\nrefs.galleryList.addEventListener('click', onGalleryItemClick);\n\nimport './js/onSearchByTrend';\nimport './js/onSearchByName';\nimport './js/loader'\nimport './js/modalFilm';\nimport './js/scrolled';\nimport './js/modalTeam';\n\nimport './js/addMovieToLibriary';\n\nimport './js/pagination-main';\nimport './js/fetchMovieTrailer';\nimport './js/trailer';\n"],"names":["$bpxeT","parcelRequire","$067fe24ac3466aea$var$API_KEY","$067fe24ac3466aea$var$BASE_URL","$067fe24ac3466aea$var$_fetchTrendingMovies","$parcel$interopDefault","$2TvXO","mark","_callee","page","response","_args","arguments","length","$dIxxU","default","concat","_ctx","sent","console","log","t0","apply","this","$f84d4d22ea952dee$var$API_KEY","$f84d4d22ea952dee$var$_getMoviesGenres","responce","genres","data","localStorage","setItem","JSON","stringify","$1VFfL","$d18727ff5dde9a80$var$moviesService","$kzQwM","MoviesService","searchQuery","document","getElementById","totalItems","itemsPerPage","visiblePages","on","event","currentPage","fetchTrendingMovies","then","$26XG5","renderMoviesMarkup","$f065380379d4d527$var$ref","querySelector","$f065380379d4d527$var$back","$f065380379d4d527$var$first","$f065380379d4d527$var$second","$f065380379d4d527$var$third","$f065380379d4d527$var$fourth","$f065380379d4d527$var$fifth","$f065380379d4d527$var$curentPageNumber","$f065380379d4d527$var$changePaginTextContent","val","textContent","$f065380379d4d527$var$arrowInteractiv","$f065380379d4d527$var$addActivePageClass","Number","activePageNumber","setAttribute","removeAttribute","classList","remove","add","addEventListener","e","target","nodeName","pushedButtonData","dataset","value","$c1f2d1e7d98c36c7$var$BASE_URL","$c1f2d1e7d98c36c7$var$API_KEY","$c1f2d1e7d98c36c7$export$3d6f09e7bda76655","id","$c1f2d1e7d98c36c7$var$_fetchVideoKey","$93478dab444045a1$var$videoKey","$870a257aa713b67a$var$onCloseVideo","src","$4Nugj","refs","modal","toggle","trailerBackdrop","backdropModalFilm","removeEventListener","$870a257aa713b67a$var$onBackdropClose","currentTarget","$93478dab444045a1$var$_onTrailerBtnClick","videoResponse","obj","getKey","videoMarkup","i","name","includes","key","results","trailerWindow","innerHTML","body","style","overflow","$h6c0i","Notify","info","trailerBtn","galleryList","$euASI","onGalleryItemClick"],"version":3,"file":"index.4a6e309b.js.map"}